{"ast":null,"code":"var _jsxFileName = \"C:\\\\js1912\\\\03-react\\\\\\u8FBE\\u4EBA\\u8D2D\\u7269\\u9759\\u6001\\u9875\\u9762\\\\drg\\\\react-bk1912-2\\\\src\\\\pages\\\\productlist\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Pltyle } from \"./styled\";\nimport { Link } from \"react-router-dom\";\nimport url from \"url\";\nimport http from \"../../utils/http\";\nimport Tanchu from \"../../components/tanchu\";\nexport default class Productlist extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      navtanchu: false,\n      flat: true,\n      px: 't',\n      id: '',\n      url: '',\n      name: '',\n      num: 0,\n      list: [],\n      nav: [{\n        key: \"t1\",\n        name: \"人气\"\n      }, {\n        key: \"t2\",\n        name: \"最新\"\n      }, {\n        key: \"t3\",\n        name: \"销售\"\n      }, {\n        key: \"t4\",\n        name: \"价格\"\n      }]\n    }; // console.log(this.props, 96)\n    // console.log(url.parse(this.props.location.search, true).query, 7)\n\n    let _url$parse$query = url.parse(this.props.location.search, true).query,\n        id = _url$parse$query.id,\n        urlgo = _url$parse$query.urlgo,\n        name = _url$parse$query.name;\n    this.state.id = id;\n    this.state.url = urlgo;\n    this.state.name = name;\n    let qingqiudizhi = \"/api/index.php?r=class%2Fcyajaxsub&page=\" + 1 + \"&cid=\" + this.state.id + \"&px=\" + this.state.px + \"&cac_id=\";\n    fetch(qingqiudizhi).then(res => res.json()).then(data => {\n      // console.log(data.data.content, \"产品列表\");\n      this.setState({\n        list: data.data.content\n      });\n    });\n  }\n\n  clicktancchu() {\n    if (this.state.navtanchu) {\n      this.setState({\n        navtanchu: false\n      });\n    } else {\n      this.setState({\n        navtanchu: true\n      });\n    }\n  }\n\n  clickFn(indexnav) {\n    switch (indexnav) {\n      case 0:\n        let newurl = \"/api/index.php?r=class%2Fcyajaxsub&page=\" + 1 + \"&cid=\" + this.state.id + \"&px=t&cac_id=\"; // console.log(newurl);\n\n        fetch(newurl).then(res => res.json()).then(data => {\n          // console.log(data.data.content, \"000\");\n          this.setState({\n            list: data.data.content\n          });\n        });\n        this.setState({\n          px: \"t\",\n          num: indexnav\n        });\n        break;\n\n      case 1:\n        let newurl1 = \"/api/index.php?r=class%2Fcyajaxsub&page=\" + 1 + \"&cid=\" + this.state.id + \"&px=latest&cac_id=\";\n        fetch(newurl1).then(res => res.json()).then(data => {\n          console.log(data.data.content, \"000\");\n          this.setState({\n            list: data.data.content\n          });\n        });\n        console.log(1);\n        this.setState({\n          px: \"latest\",\n          num: indexnav\n        });\n        break;\n\n      case 2:\n        let newurl2 = \"/api/index.php?r=class%2Fcyajaxsub&page=\" + 1 + \"&cid=\" + this.state.id + \"&px=sell&cac_id=\";\n        fetch(newurl2).then(res => res.json()).then(data => {\n          this.setState({\n            list: data.data.content\n          });\n        });\n        console.log(2);\n        this.setState({\n          px: \"sell\",\n          num: indexnav\n        });\n        break;\n\n      case 3:\n        if (this.state.flat) {\n          let newurl3 = \"/api/index.php?r=class%2Fcyajaxsub&page=\" + 1 + \"&cid=\" + this.state.id + \"&px=price_h&cac_id=\";\n          fetch(newurl3).then(res => res.json()).then(data => {\n            this.setState({\n              list: data.data.content,\n              flat: false\n            });\n          });\n        } else {\n          let newurl4 = \"/api/index.php?r=class%2Fcyajaxsub&page=\" + 1 + \"&cid=\" + this.state.id + \"&px=price&cac_id=\";\n          fetch(newurl4).then(res => res.json()).then(data => {\n            this.setState({\n              list: data.data.content,\n              flat: true\n            });\n          });\n        }\n\n        console.log(3);\n        this.setState({\n          px: \"price_h\",\n          num: indexnav\n        });\n        break;\n    }\n  }\n\n  render() {\n    let navtanchu = this.state.navtanchu;\n    return React.createElement(Pltyle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"topbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, navtanchu ? React.createElement(Tanchu, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }) : '', React.createElement(\"div\", {\n      className: \"nav_products classcolor\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"iconfont classcolor\",\n      href: \"#/classify\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, \"\\uE667\"), React.createElement(\"span\", {\n      className: \"class_name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, this.state.name), React.createElement(\"i\", {\n      className: \"iconfont classcolor\",\n      onClick: this.clicktancchu.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"\\uE634\")), React.createElement(\"div\", {\n      className: \"nav_two\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, this.state.nav.map((itemnav, indexnav) => {\n      return React.createElement(\"li\", {\n        key: itemnav.key,\n        onClick: this.clickFn.bind(this, indexnav),\n        className: this.state.num === indexnav ? \"moren\" : '',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, itemnav.name, indexnav === 3 ? React.createElement(\"i\", {\n        class: \"iconfont navi\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, \" \\uE699\") : '');\n    })))), React.createElement(\"div\", {\n      className: \"products_list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, this.state.list.map((itemlist, indexlist) => {\n      return React.createElement(Link, {\n        to: \"/details?goodsid=\" + itemlist.goodsid + \"&id=\" + itemlist.id + \"&zhutu=\" + itemlist.pic + \"&category_id=\" + itemlist.category_id + \"&d_title=\" + itemlist.d_title + \"&jiage=\" + itemlist.jiage + \"&yuanjia=\" + itemlist.yuanjia + \"&xiaoliang=\" + itemlist.xiaoliang + \"&quan_jine=\" + itemlist.quan_jine + \"&quan_link=\" + itemlist.quan_link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"product_content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"content_img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: itemlist.pic,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"content_rg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, itemlist.d_title), React.createElement(\"div\", {\n        className: \"content_rg2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"\\u6DD8\\u5B9D\\u4EF7\\uFFE5\"), React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, itemlist.yuanjia)), React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \" \", React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"\\u5DF2\\u552E\"), React.createElement(\"em\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, itemlist.xiaoliang), React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }, \"\\u4EF6\"))), React.createElement(\"div\", {\n        className: \"content_rg3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, \"\\u5238\\u540E\\u4EF7\\uFFE5\"), React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219\n        },\n        __self: this\n      }, itemlist.jiage)), React.createElement(\"a\", {\n        className: \"youhui\",\n        href: itemlist.quan_link,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, itemlist.quan_jine, \"\\u5143\\u5238\")))));\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:\\js1912\\03-react\\达人购物静态页面\\drg\\react-bk1912-2\\src\\pages\\productlist\\index.js"],"names":["React","Component","Pltyle","Link","url","http","Tanchu","Productlist","constructor","props","state","navtanchu","flat","px","id","name","num","list","nav","key","parse","location","search","query","urlgo","qingqiudizhi","fetch","then","res","json","data","setState","content","clicktancchu","clickFn","indexnav","newurl","newurl1","console","log","newurl2","newurl3","newurl4","render","bind","map","itemnav","itemlist","indexlist","goodsid","pic","category_id","d_title","jiage","yuanjia","xiaoliang","quan_jine","quan_link"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport { Pltyle } from \"./styled\"\r\nimport { Link } from \"react-router-dom\"\r\nimport url from \"url\"\r\nimport http from \"../../utils/http\"\r\nimport Tanchu from \"../../components/tanchu\"\r\nexport default class Productlist extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            navtanchu:false,\r\n            flat:true,\r\n            px:'t',\r\n            id: '',\r\n            url: '',\r\n            name: '',\r\n            num: 0,\r\n            list: [],\r\n            nav: [\r\n                { key: \"t1\", name: \"人气\" },\r\n                { key: \"t2\", name: \"最新\" },\r\n                { key: \"t3\", name: \"销售\" },\r\n                { key: \"t4\", name: \"价格\" },\r\n            ]\r\n        }\r\n\r\n        // console.log(this.props, 96)\r\n        // console.log(url.parse(this.props.location.search, true).query, 7)\r\n        let { id, urlgo, name } = url.parse(this.props.location.search, true).query;\r\n        this.state.id = id;\r\n        this.state.url = urlgo;\r\n        this.state.name = name;\r\n\r\n        let qingqiudizhi = \"/api/index.php?r=class%2Fcyajaxsub&page=\" + 1 + \"&cid=\" + this.state.id + \"&px=\" + this.state.px + \"&cac_id=\"\r\n        fetch(qingqiudizhi).then(res => res.json()).then(data => {\r\n            // console.log(data.data.content, \"产品列表\");\r\n            this.setState({\r\n                list: data.data.content\r\n            })\r\n\r\n        })\r\n\r\n    }\r\n    clicktancchu(){\r\n\r\n       if(this.state.navtanchu){\r\n        this.setState({\r\n            navtanchu:false\r\n        })\r\n       }else{\r\n        this.setState({\r\n            navtanchu:true\r\n        })\r\n       }\r\n\r\n\r\n    }\r\n    \r\n    clickFn(indexnav) {\r\n        switch (indexnav) {\r\n            case 0:\r\n                let newurl = \"/api/index.php?r=class%2Fcyajaxsub&page=\" + 1 + \"&cid=\" + this.state.id + \"&px=t&cac_id=\"\r\n                // console.log(newurl);\r\n                  fetch(newurl).then(res => res.json()).then(data => {\r\n                    // console.log(data.data.content, \"000\");\r\n                            this.setState({\r\n                                list: data.data.content\r\n                            })\r\n                    })\r\n                    \r\n                 \r\n                    this.setState({\r\n                        px: \"t\",\r\n                        num: indexnav,\r\n                      \r\n                    })\r\n\r\n                    break;\r\n                case 1:\r\n                        let newurl1= \"/api/index.php?r=class%2Fcyajaxsub&page=\"+1+\"&cid=\"+this.state.id+\"&px=latest&cac_id=\"\r\n                          fetch(newurl1).then(res => res.json()).then(data => {\r\n                            console.log(data.data.content, \"000\");\r\n                                    this.setState({\r\n                                        list: data.data.content\r\n                                    })\r\n                            })\r\n\r\n                console.log(1);\r\n                this.setState({\r\n                    px: \"latest\",\r\n                    num: indexnav\r\n                })\r\n                break;\r\n            case 2:\r\n\r\n                    let newurl2= \"/api/index.php?r=class%2Fcyajaxsub&page=\"+1+\"&cid=\"+this.state.id+\"&px=sell&cac_id=\"\r\n                    fetch(newurl2).then(res => res.json()).then(data => {\r\n                              this.setState({\r\n                                  list: data.data.content\r\n                              })\r\n                      })\r\n\r\n                console.log(2);\r\n                this.setState({\r\n                    px: \"sell\",\r\n                    num: indexnav\r\n                })\r\n                break;\r\n            case 3:\r\n     \r\n                    \r\n\r\n            if( this.state.flat){\r\n                let newurl3= \"/api/index.php?r=class%2Fcyajaxsub&page=\"+1+\"&cid=\"+this.state.id+\"&px=price_h&cac_id=\"\r\n                fetch(newurl3).then(res => res.json()).then(data => {\r\n                          this.setState({\r\n                              list: data.data.content,\r\n                              flat:false\r\n                          })\r\n                        \r\n                  })\r\n               \r\n                  \r\n               \r\n            }else{\r\n                let newurl4= \"/api/index.php?r=class%2Fcyajaxsub&page=\"+1+\"&cid=\"+this.state.id+\"&px=price&cac_id=\"\r\n                fetch(newurl4).then(res => res.json()).then(data => {\r\n                          this.setState({\r\n                              list: data.data.content,\r\n                              flat:true\r\n                          })\r\n\r\n                        \r\n                  })\r\n                \r\n            }\r\n\r\n               \r\n                console.log(3);\r\n                this.setState({\r\n                    px: \"price_h\",\r\n                    num: indexnav\r\n                })\r\n\r\n                break;\r\n\r\n        }\r\n\r\n    }   \r\n   \r\n\r\n    render() {\r\n        \r\nlet {navtanchu}=this.state\r\n        return (\r\n            <Pltyle>\r\n           \r\n                {/* 头部*/}\r\n                <div  class=\"topbox\">\r\n              \r\n               \r\n                {navtanchu? <Tanchu ></Tanchu> :''}\r\n          \r\n              \r\n                <div className=\"nav_products classcolor\">\r\n                    <a className=\"iconfont classcolor\" href=\"#/classify\" >&#xe667;</a>\r\n                    <span className=\"class_name\">{this.state.name}</span>\r\n                    <i className=\"iconfont classcolor\" \r\n                    onClick={this.clicktancchu.bind(this)}\r\n                    >&#xe634;</i>\r\n                </div>\r\n                {/* 导航*/}\r\n                <div className=\"nav_two\">\r\n                    <ul>\r\n                        {this.state.nav.map((itemnav, indexnav) => {\r\n                            return <li key={itemnav.key}\r\n                                onClick={this.clickFn.bind(this, indexnav)}\r\n                                className={this.state.num === indexnav ? \"moren\" : ''}>{itemnav.name} \r\n                                {indexnav===3?<i class=\"iconfont navi\"> &#xe699;</i>:''}\r\n                                \r\n                                </li>\r\n                        }\r\n                        )\r\n                        }\r\n                    </ul>\r\n                </div>\r\n\r\n                </div>\r\n                {/* 产品列表*/}\r\n                <div className=\"products_list\">\r\n                    {/* 单个产品信息*/}\r\n                    {this.state.list.map((itemlist, indexlist) => {\r\n                        return (<Link \r\n                            to={\"/details?goodsid=\"+itemlist.goodsid+\r\n                                \"&id=\"+itemlist.id+\r\n                                \"&zhutu=\"+itemlist.pic+\r\n                                \"&category_id=\"+itemlist.category_id+\r\n                                \"&d_title=\"+itemlist.d_title+\r\n                                \"&jiage=\"+itemlist.jiage+\r\n                                \"&yuanjia=\"+itemlist.yuanjia+\r\n                                \"&xiaoliang=\"+itemlist.xiaoliang+\r\n                                \"&quan_jine=\"+itemlist.quan_jine+\r\n                                \"&quan_link=\"+itemlist.quan_link\r\n                                \r\n                            }>\r\n                            <div className=\"product_content\">\r\n                                <div className=\"content_img\">\r\n                                    <img src={itemlist.pic} /></div>\r\n                                <div className=\"content_rg\">\r\n                                    <h3>{itemlist.d_title}</h3>\r\n                                    <div className=\"content_rg2\">\r\n                                        <span><i>淘宝价￥</i><i>{itemlist.yuanjia}</i></span>\r\n                                        <span> <i>已售</i><em>{itemlist.xiaoliang}</em><i>件</i></span>\r\n                                    </div>\r\n\r\n\r\n                                    <div className=\"content_rg3\">\r\n                                        <span>\r\n                                            <i>券后价￥</i><strong>{itemlist.jiage}</strong>\r\n                                        </span>\r\n                                        <a className=\"youhui\"\r\n                                        href={itemlist.quan_link}>{itemlist.quan_jine}元券</a>\r\n                                    </div>\r\n\r\n                                </div>\r\n                            </div>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n\r\n                </div>\r\n\r\n            </Pltyle>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}