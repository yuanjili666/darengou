{"ast":null,"code":"import { createAction } from \"redux-actions\";\nimport { loginApi, modifyUserPicApi } from \"@api/user\";\nlet LOGIN_ACTION = createAction(\"login_action\", data => data);\nexport const LOGIN_ACTION_ASYNC = (userId, password) => {\n  return async dispatch => {\n    let data = await loginApi(userId, password);\n\n    if (data.data.code == 1) {\n      sessionStorage.setItem(\"username\", data.data.info.username);\n      sessionStorage.setItem(\"userPic\", data.data.info.userPic);\n      dispatch(LOGIN_ACTION(data.data));\n      return true;\n    }\n  };\n};\nlet USERPIC_ACTION = createAction(\"userpic_action\", imgUrl => imgUrl);\nexport const USERPIC_ACTION_ASYNC = formdata => {\n  return async dispatch => {\n    let data = await modifyUserPicApi(formdata);\n\n    if (data.data.urlPic) {\n      dispatch(USERPIC_ACTION(data.data.urlPic));\n    }\n  };\n};","map":{"version":3,"sources":["C:\\js1912\\03-react\\达人购物静态页面\\drg\\react-bk1912-2\\src\\actions\\user.js"],"names":["createAction","loginApi","modifyUserPicApi","LOGIN_ACTION","data","LOGIN_ACTION_ASYNC","userId","password","dispatch","code","sessionStorage","setItem","info","username","userPic","USERPIC_ACTION","imgUrl","USERPIC_ACTION_ASYNC","formdata","urlPic"],"mappings":"AAGA,SAASA,YAAT,QAA6B,eAA7B;AACA,SAASC,QAAT,EAAkBC,gBAAlB,QAAyC,WAAzC;AAKA,IAAIC,YAAY,GAAGH,YAAY,CAAC,cAAD,EAAiBI,IAAI,IAAIA,IAAzB,CAA/B;AACA,OAAO,MAAMC,kBAAkB,GAAG,CAACC,MAAD,EAASC,QAAT,KAAsB;AACpD,SAAO,MAAOC,QAAP,IAAoB;AACvB,QAAIJ,IAAI,GAAG,MAAMH,QAAQ,CAACK,MAAD,EAASC,QAAT,CAAzB;;AACA,QAAGH,IAAI,CAACA,IAAL,CAAUK,IAAV,IAAkB,CAArB,EAAuB;AACnBC,MAAAA,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAkCP,IAAI,CAACA,IAAL,CAAUQ,IAAV,CAAeC,QAAjD;AACAH,MAAAA,cAAc,CAACC,OAAf,CAAuB,SAAvB,EAAiCP,IAAI,CAACA,IAAL,CAAUQ,IAAV,CAAeE,OAAhD;AAEDN,MAAAA,QAAQ,CAACL,YAAY,CAACC,IAAI,CAACA,IAAN,CAAb,CAAR;AACA,aAAO,IAAP;AACF;AACJ,GATD;AAUH,CAXM;AAcP,IAAIW,cAAc,GAAGf,YAAY,CAAC,gBAAD,EAAkBgB,MAAM,IAAEA,MAA1B,CAAjC;AAEA,OAAO,MAAMC,oBAAoB,GAAIC,QAAD,IAAY;AAC5C,SAAO,MAAOV,QAAP,IAAkB;AACrB,QAAIJ,IAAI,GAAG,MAAMF,gBAAgB,CAACgB,QAAD,CAAjC;;AACA,QAAGd,IAAI,CAACA,IAAL,CAAUe,MAAb,EAAoB;AAChBX,MAAAA,QAAQ,CAACO,cAAc,CAACX,IAAI,CAACA,IAAL,CAAUe,MAAX,CAAf,CAAR;AACH;AACJ,GALD;AAMH,CAPM","sourcesContent":["\r\n\r\n\r\nimport { createAction } from \"redux-actions\";\r\nimport { loginApi,modifyUserPicApi} from \"@api/user\"\r\n\r\n\r\n\r\n\r\nlet LOGIN_ACTION = createAction(\"login_action\", data => data)\r\nexport const LOGIN_ACTION_ASYNC = (userId, password) => {\r\n    return async (dispatch) => {\r\n        let data = await loginApi(userId, password)\r\n        if(data.data.code == 1){\r\n            sessionStorage.setItem(\"username\",data.data.info.username)\r\n            sessionStorage.setItem(\"userPic\",data.data.info.userPic)\r\n\r\n           dispatch(LOGIN_ACTION(data.data));\r\n           return true;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nlet USERPIC_ACTION = createAction(\"userpic_action\",imgUrl=>imgUrl);\r\n\r\nexport const USERPIC_ACTION_ASYNC = (formdata)=>{\r\n    return async (dispatch)=>{\r\n        let data = await modifyUserPicApi(formdata);\r\n        if(data.data.urlPic){\r\n            dispatch(USERPIC_ACTION(data.data.urlPic))\r\n        }\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}