{"ast":null,"code":"import { createAction } from \"redux-actions\";\nimport { loginApi } from \"@api/user\";\nlet LOGIN_ACTION = createAction(\"login_action\", data => data);\nexport const LOGIN_ACTION_ASYNC = (userId, password) => {\n  return async dispatch => {\n    let data = await loginApi(userId, password);\n\n    if (data.data.code == 1) {\n      sessionStorage.setItem(\"username\", data.data.info.username);\n      sessionStorage.setItem(\"userPic\", data.data.info.userPic);\n      dispatch(LOGIN_ACTION(data.data));\n      return true;\n    }\n  };\n};","map":{"version":3,"sources":["C:\\js1912\\03-react\\达人购物静态页面\\drg\\react-bk1912-2\\src\\actions\\user.js"],"names":["createAction","loginApi","LOGIN_ACTION","data","LOGIN_ACTION_ASYNC","userId","password","dispatch","code","sessionStorage","setItem","info","username","userPic"],"mappings":"AAGA,SAASA,YAAT,QAA6B,eAA7B;AACA,SAASC,QAAT,QAAwB,WAAxB;AAKA,IAAIC,YAAY,GAAGF,YAAY,CAAC,cAAD,EAAiBG,IAAI,IAAIA,IAAzB,CAA/B;AACA,OAAO,MAAMC,kBAAkB,GAAG,CAACC,MAAD,EAASC,QAAT,KAAsB;AACpD,SAAO,MAAOC,QAAP,IAAoB;AACvB,QAAIJ,IAAI,GAAG,MAAMF,QAAQ,CAACI,MAAD,EAASC,QAAT,CAAzB;;AACA,QAAGH,IAAI,CAACA,IAAL,CAAUK,IAAV,IAAkB,CAArB,EAAuB;AACnBC,MAAAA,cAAc,CAACC,OAAf,CAAuB,UAAvB,EAAkCP,IAAI,CAACA,IAAL,CAAUQ,IAAV,CAAeC,QAAjD;AACAH,MAAAA,cAAc,CAACC,OAAf,CAAuB,SAAvB,EAAiCP,IAAI,CAACA,IAAL,CAAUQ,IAAV,CAAeE,OAAhD;AAEDN,MAAAA,QAAQ,CAACL,YAAY,CAACC,IAAI,CAACA,IAAN,CAAb,CAAR;AACA,aAAO,IAAP;AACF;AACJ,GATD;AAUH,CAXM","sourcesContent":["\r\n\r\n\r\nimport { createAction } from \"redux-actions\";\r\nimport { loginApi} from \"@api/user\"\r\n\r\n\r\n\r\n\r\nlet LOGIN_ACTION = createAction(\"login_action\", data => data)\r\nexport const LOGIN_ACTION_ASYNC = (userId, password) => {\r\n    return async (dispatch) => {\r\n        let data = await loginApi(userId, password)\r\n        if(data.data.code == 1){\r\n            sessionStorage.setItem(\"username\",data.data.info.username)\r\n            sessionStorage.setItem(\"userPic\",data.data.info.userPic)\r\n\r\n           dispatch(LOGIN_ACTION(data.data));\r\n           return true;\r\n        }\r\n    }\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}