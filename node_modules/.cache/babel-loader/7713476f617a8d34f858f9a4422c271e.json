{"ast":null,"code":"var _jsxFileName = \"C:\\\\js1912\\\\03-react\\\\\\u8FBE\\u4EBA\\u8D2D\\u7269\\u9759\\u6001\\u9875\\u9762\\\\drg\\\\react-bk1912-2\\\\src\\\\pages\\\\login\\\\index.js\";\nimport React, { Component } from \"react\";\nimport { Loginstyle } from \"./syled\";\nimport { loginApi } from \"@api/user\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      userId: '',\n      password: '',\n      userPic: '',\n      username: \"\"\n    };\n  }\n\n  render() {\n    let _this$state = this.state,\n        userId = _this$state.userId,\n        password = _this$state.password;\n    return React.createElement(Loginstyle, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"delu_go\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"iconfont fanhui\",\n      href: \"#/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, \" \\uE667\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, \"\\u767B\\u5F55\")), React.createElement(\"div\", {\n      className: \"gekai\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      onSubmit: this.handleLogin.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ipone_input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, \" \\uE63A \"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: userId,\n      onChange: this.handleUser.bind(this, 1),\n      name: \"inpone\",\n      placeholder: \"\\u624B\\u673A\\u53F7\\u7801\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30\n      },\n      __self: this\n    })), React.createElement(\"em\", {\n      className: \"iconfont fudong\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \" \\uE68A\")), React.createElement(\"div\", {\n      className: \"mima_input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"iconfont\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \" \\uE60C\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: password,\n      onChange: this.handleUser.bind(this, 2),\n      name: \"inpone\",\n      placeholder: \"\\u5BC6\\u7801\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    })), React.createElement(\"em\", {\n      className: \"iconfont fudong\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \" \\uE602\")), React.createElement(\"div\", {\n      className: \"butten\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"\\u767B\\u5F55\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }))), React.createElement(\"p\", {\n      className: \"weidenglu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"\\u8FD8\\u6CA1\\u6709\\u8D26\\u53F7\\uFF1F\\u7ACB\\u5373\", React.createElement(\"a\", {\n      href: \"#/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, \"\\u6CE8\\u518C\")), React.createElement(\"p\", {\n      className: \"denglu_bu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"  \", React.createElement(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"\\u9A8C\\u8BC1\\u7801\\u767B\\u5F55\"), \" \\xA0\\xA0|\\xA0\\xA0\", React.createElement(\"a\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"\\u627E\\u56DE\\u5BC6\\u7801\"), \" \"));\n  }\n\n  handleUser(type, e) {\n    let val = e.target.value;\n\n    if (type === 1) {\n      this.setState({\n        userId: val\n      });\n    } else {\n      this.setState({\n        password: val\n      });\n    }\n  }\n\n  async handleLogin(e) {\n    e.preventDefault();\n    let userId = this.state.userId;\n    let password = this.state.password;\n    console.log(userId, password);\n    let data = await loginApi(userId, password);\n    console.log(data, 55);\n\n    if (data.data.code === 1) {\n      alert('登录');\n      console.log(this.props, 666);\n      this.props.history.push(\"/home\");\n      this.setState({\n        userPic: data.data.info.userPic\n      });\n      console.log(data.data.info, 8898);\n    }\n\n    if (data.data.code === 0) {\n      alert(data.data.info.msg);\n    }\n\n    if (data.data.code === 2) {\n      alert(data.data.info.msg);\n    }\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["C:\\js1912\\03-react\\达人购物静态页面\\drg\\react-bk1912-2\\src\\pages\\login\\index.js"],"names":["React","Component","Loginstyle","loginApi","Login","constructor","state","userId","password","userPic","username","render","handleLogin","bind","handleUser","type","e","val","target","value","setState","preventDefault","console","log","data","code","alert","props","history","push","info","msg"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\"\r\nimport {Loginstyle} from \"./syled\"\r\nimport {loginApi} from \"@api/user\"\r\n\r\n\r\n\r\n class Login extends Component {\r\n     constructor(){\r\n         super()\r\n         this.state={\r\n            userId:'',\r\n            password:'',\r\n            userPic:'',\r\n            username:\"\"\r\n         }\r\n     }\r\n    render() {\r\n        let {  userId, password}=this.state\r\n        return (\r\n            <Loginstyle>\r\n                <div className=\"delu_go\">\r\n                    <a className=\"iconfont fanhui\" href=\"#/home\"> &#xe667;</a>\r\n                    <span>登录</span>\r\n                </div>\r\n                <div className=\"gekai\"></div>        \r\n                <form  onSubmit={this.handleLogin.bind(this)} >\r\n                    <div className=\"ipone_input\">\r\n                        <i className=\"iconfont\"> &#xe63a; </i>\r\n                        <div>\r\n                            <input type=\"text\" \r\n                            value={userId} \r\n                            onChange={this.handleUser.bind(this,1)}\r\n                            name=\"inpone\" placeholder=\"手机号码\" />\r\n                        </div>\r\n                        <em className=\"iconfont fudong\"> &#xe68a;</em>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"mima_input\">\r\n                        <i className=\"iconfont\"> &#xe60c;</i>\r\n                        <div>\r\n                            <input type=\"text\" \r\n                            value={password} \r\n                            onChange={this.handleUser.bind(this,2)}\r\n                            name=\"inpone\" placeholder=\"密码\" />\r\n                        </div>\r\n                        <em className=\"iconfont fudong\"> &#xe602;</em>\r\n\r\n                    </div>\r\n\r\n                    <div className=\"butten\">\r\n                        <input type=\"submit\" value=\"登录\" />\r\n                    </div>\r\n                    </form>\r\n\r\n            <p className=\"weidenglu\">还没有账号？立即<a href=\"#/register\">注册</a></p>\r\n\r\n            <p className=\"denglu_bu\">  <a>验证码登录</a> &nbsp;&nbsp;|&nbsp;&nbsp;<a>找回密码</a> </p>\r\n\r\n        </Loginstyle >\r\n      \r\n        )\r\n    }\r\n    handleUser(type,e){\r\n        let val=e.target.value;\r\n        if(type === 1){\r\n            this.setState({\r\n                userId:val\r\n            })\r\n        }else{\r\n            this.setState({\r\n                password:val\r\n            })\r\n        }\r\n      \r\n    }\r\n\r\n\r\n\r\n    async handleLogin(e){\r\n        e.preventDefault();\r\n        let userId=this.state.userId;\r\n        let password=this.state.password;\r\n        console.log(userId,password)\r\n        let data=await loginApi(userId,password)\r\n        console.log(data,55)\r\n        if(data.data.code ===1){\r\n            alert('登录');\r\n            console.log(this.props,666);\r\n            this.props.history.push(\"/home\")\r\n                this.setState({\r\n                    userPic:data.data.info.userPic,\r\n                    \r\n                })\r\n           console.log(data.data.info,8898)\r\n        }\r\n        if(data.data.code ===0 ){\r\n            alert(data.data.info.msg);\r\n        }\r\n        if(data.data.code ===2 ){\r\n            alert(data.data.info.msg);\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}